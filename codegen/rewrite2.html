<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Esprima AST editor</title>
	<link rel="stylesheet" type="text/css" href="../lib/esprima/assets/codemirror/codemirror.css"/>
	<link rel="stylesheet" type="text/css" href="style.css"/>
	<link rel="stylesheet" type="text/css" href="../lib/esprima/assets/yui/treeview.css"/>
</head>
<body>

	<div id="main" class="layout">
		<!--<div id="header" class="layout">header</div>-->

		<div id="body" class="layout">


			<div id="codes" class="layout src">
				<ul class="tabs layout">
					<li class="src"><a href="#src">Source</a></li>
					<li class="mod"><a href="#mod">AST Mod</a></li>
					<li class="sweetmod"><a href="#sweetmod">Sweet</a></li>
					<li class="gen"><a href="#gen">Generated</a></li>
				</ul>

				<div id="src" class="layout">
					<p><textarea id="code" autofocus="autofocus" spellcheck="false">
var dom = $dom(["div", "some text"]);
					</textarea></p>
				</div>
				<div id="mod" class="layout">
					<p><textarea id="code2" autofocus="autofocus" spellcheck="false">
(function() {
	var optimizer = function(ast) {
		// do cool things to ast
		return ast;
	};

	return optimizer;
}());
					</textarea></p>
				</div>
				<div id="sweetmod" class="layout">
					<p><textarea id="code3" autofocus="autofocus" spellcheck="false">
macro def {
  case $name:ident $params $body => {
    function $name $params $body
  }
}
					</textarea></p>
				</div>
				<div id="gen" class="layout">
					<p><textarea id="result" autofocus="autofocus" spellcheck="false"></textarea></p>
				</div>
			</div>


			<div id="ast" class="layout ast-left">
				<ul class="tabs layout">
					<li class="ast-left"><a href="#ast-left">Source</a></li>
					<li class="ast-right"><a href="#ast-right">Generated</a></li>
				</ul>

				<div id="ast-left" class="layout">
					<div id="sourceTree">
						<span>
							<input type="button" id="expand" value="Expand All">
							<input type="button" id="collapse" value="Collapse All">
						</span>
						<div id="treeview"></div>
					</div>
					<!--<textarea id="json1" class="layout"></textarea>-->
				</div>

				<div id="ast-right" class="layout">
					<div id="source2Tree">
						<span>
							<input type="button" id="expand2" value="Expand All">
							<input type="button" id="collapse2" value="Collapse All">
						</span>
						<div id="treeview2"></div>
					</div>
					<!--<textarea id="json2" class=""></textarea>-->
				</div>

			</div>
		</div>


		<div id="footer" class="layout">

			<div id="settings">
				<p>Indent with:
					<label><input checked type="radio" name="indent" id="onetab" value="onetab"> tab</label>
					<label><input type="radio" name="indent" id="twospaces" value="twospaces"> 2 spaces</label>
					<label><input type="radio" name="indent" id="fourspaces" value="fourspaces"> 4 spaces</label>
				</p>

				<p>Options:
					<label><input type="checkbox" id="raw"> Preserve raw value of literals</label>
					<label><input type="checkbox" id="comment"> Include comments</label>
					Syntax node location info (start, end)
					<label><input type="checkbox" checked="checked" id="range">Index-based range</label>
					<label><input type="checkbox" checked="checked" id="loc">Line and column-based</label>
				</p>

				<p><input type="button" value="Rewrite" id="rewrite"></p>


			</div>
			<p id="error"></p>


			<!--<label for="asTree">View AST as:</label> <button id="asTree">Tree</button> <button id="asJSON">JSON</button>-->
		</div>
	</div>

	<script src="../src/loot.js"></script>
	<script src="../src/$dom.js"></script>
	<script src="../lib/json2.js"></script>
	<script src="../lib/jquery-1.8.2.min.js"></script>
	<script src="../lib/jsonselect.js"></script>

	<script src="../lib/esprima/test/3rdparty/platform.js"></script>
	<script src="../lib/esprima/test/3rdparty/escodegen.js"></script>
	<script src="../lib/esprima/demo/checkenv.js"></script>


	<script src="../lib/esprima/assets/codemirror/codemirror.js"></script>
	<script src="../lib/esprima/assets/codemirror/javascript.js"></script>

	<script src="../lib/esprima/assets/yui/yahoo-dom-event.js"></script>
	<script src="../lib/esprima/assets/yui/treeview-min.js"></script>

	<script src="../lib/underscore.js"></script>
	<script src="../lib/sweet.js"></script> 
	<script src="rewrite2.js"></script>

</body>
</html>
